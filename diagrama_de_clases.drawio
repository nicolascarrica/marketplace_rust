<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36" version="27.2.0">
  <diagram name="Page-1" id="Glnqt_1nR3RjXuAZWM1s">
    <mxGraphModel dx="1030" dy="810" grid="1" gridSize="14" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="L-jZJ5sh9KPlKlTp_EbE-29" value="Rol (Enum)" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="966" y="824" width="70" height="100" as="geometry" />
        </mxCell>
        <mxCell id="L-jZJ5sh9KPlKlTp_EbE-30" value="Comprador&lt;div&gt;Vendedor&lt;br&gt;Ambos&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="L-jZJ5sh9KPlKlTp_EbE-29" vertex="1">
          <mxGeometry y="30" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L-jZJ5sh9KPlKlTp_EbE-31" value="EsadoOrden (Enum)" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="1036" y="952" width="159" height="100" as="geometry" />
        </mxCell>
        <mxCell id="L-jZJ5sh9KPlKlTp_EbE-32" value="Pendiente&lt;br&gt;Enviado&lt;br&gt;Recibido&lt;br&gt;Cancelada" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="L-jZJ5sh9KPlKlTp_EbE-31" vertex="1">
          <mxGeometry y="25" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="L-jZJ5sh9KPlKlTp_EbE-34" value="Categoria (Enum)" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="868" y="939" width="112" height="126" as="geometry">
            <mxRectangle x="560" y="770" width="140" height="28" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L-jZJ5sh9KPlKlTp_EbE-35" value="Tecnologia&lt;div&gt;Indumentaria&lt;br&gt;Hogar&lt;br&gt;Alimentos&lt;br&gt;Otro&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="L-jZJ5sh9KPlKlTp_EbE-34" vertex="1">
          <mxGeometry x="4" y="28" width="90" height="90" as="geometry" />
        </mxCell>
        <mxCell id="FVgFX-8hUAamlxQAzVHd-1" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;MarketPlace&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ usuarios: Mapping&amp;lt;AccountId, Usuario&amp;gt;&lt;br&gt;+ productos: Mapping&amp;lt;u64, Producto&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ ordenes:&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Mapping&amp;lt;u64, Orden&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;productos_por_usuario: Mapping&amp;lt;AccountId, Vec&amp;lt;u64&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;+ contador_ordenes: u64&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;+ contador_productos: u64&lt;/span&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;registrar_usuario(username: String, rol: Rol) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;br&gt;+&amp;nbsp;cambiar_rol(nuevo_rol: Rol) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;publicar_producto(nombre: String, descripcion: String, precio: u128, stock: u32, categoria: Categoria) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ ver_productos_propios() -&amp;gt; Vec&amp;lt;Producto&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;crear_orden(productos: Vec&amp;lt;&amp;gt;) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;cambiar_estado_orden(orden_id: u64, accion: String)&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;calificar_usuario(orden_id: u64, puntaje: u8) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1372" y="98" width="728" height="252" as="geometry" />
        </mxCell>
        <mxCell id="FVgFX-8hUAamlxQAzVHd-2" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;Struct&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;Usuario&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ username: String&lt;br&gt;+ rol: Rol&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;calificaciones_como_comprador: Vec&amp;lt;Calificacion&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;calificaciones_como_vendedor: Vec&amp;lt;Calificacion&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ verificado: bool&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ set_rol(nuevo_rol: Rol): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ es_vendedor() -&amp;gt; bool&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ es_comprador() -&amp;gt; bool&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;promedio_como_vendedor() -&amp;gt; Option&amp;lt;&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;promedio_como_comprador() -&amp;gt; Option&amp;lt;&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;calificar_como_vendedor(calificador: AccountId, puntaje: u8, orden_id: u64) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;calificar_como_comprador(calificador: AccountId, puntaje: u8, orden_id: u64) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1008" y="420" width="616" height="238" as="geometry" />
        </mxCell>
        <mxCell id="FVgFX-8hUAamlxQAzVHd-3" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;struct&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;Producto&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ id: u64,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ vendedor: ?,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ nombre: String,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ descripcion: String,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ precio: u32,&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ stock: u32,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ categoria: Categoria,&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ tiene_stock(cantidad: u32) -&amp;gt; bool&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;reducir_stock(cantidad: u32): void // podria devolver un result con error?&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1722" y="434" width="406" height="196" as="geometry" />
        </mxCell>
        <mxCell id="FVgFX-8hUAamlxQAzVHd-5" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;Struct&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;Calificacion&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;calificador: Usuario?&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ puntaje: u8,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ orden_id: u64,&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1036" y="686" width="190" height="98" as="geometry" />
        </mxCell>
        <mxCell id="FVgFX-8hUAamlxQAzVHd-6" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;Struct&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;Orden&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ id: u64,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ comprador:,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ vendedor: ,&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ productos: Vec&amp;lt;(u64, u32)&amp;gt;, // (producto_id, cantidad)??? Puede ser un Hash??&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ total: u64,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ estado: EstadoOrden,&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ pendiente_cancelacion: bool&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;marcar_enviada(vendedir) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;marcar_recibida(comprador) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ solicitar_cancelacion(Usuario) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;confirmar_cancelacion(Usuario) -&amp;gt; Result&amp;lt;(), ErrorMarketplace&amp;gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1806" y="700" width="406" height="224" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
